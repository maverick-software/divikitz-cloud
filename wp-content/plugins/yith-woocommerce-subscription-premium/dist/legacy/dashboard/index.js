!function(t,e){for(var r in e)t[r]=e[r]}(this,function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=35)}([function(t,e){!function(){t.exports=this.wp.i18n}()},function(t,e){!function(){t.exports=this.React}()},function(t,e){!function(){t.exports=this.wc.date}()},function(t,e){!function(){t.exports=this.lodash}()},function(t,e){!function(){t.exports=this.wp.components}()},,function(t,e){!function(){t.exports=this.wc.components}()},function(t,e){!function(){t.exports=this.wp.element}()},function(t,e){!function(){t.exports=this.wp.apiFetch}()},function(t,e){!function(){t.exports=this.wp.url}()},function(t,e){!function(){t.exports=this.wc.navigation}()},,function(t,e,r){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}r.d(e,"a",(function(){return o}))},function(t,e){!function(){t.exports=this.wp.date}()},function(t,e){!function(){t.exports=this.wp.hooks}()},,function(t,e,r){t.exports=r(30)()},,function(t,e,r){var n=r(33);t.exports=y,t.exports.parse=a,t.exports.compile=function(t,e){return c(a(t,e),e)},t.exports.tokensToFunction=c,t.exports.tokensToRegExp=f;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(t,e){for(var r,n=[],a=0,i=0,c="",l=e&&e.delimiter||"/";null!=(r=o.exec(t));){var p=r[0],f=r[1],y=r.index;if(c+=t.slice(i,y),i=y+p.length,f)c+=f[1];else{var b=t[i],d=r[2],h=r[3],m=r[4],v=r[5],g=r[6],O=r[7];c&&(n.push(c),c="");var w=null!=d&&null!=b&&b!==d,j="+"===g||"*"===g,_="?"===g||"*"===g,P=r[2]||l,R=m||v;n.push({name:h||a++,prefix:d||"",delimiter:P,optional:_,repeat:j,partial:w,asterisk:!!O,pattern:R?s(R):O?".*":"[^"+u(P)+"]+?"})}}return i<t.length&&(c+=t.substr(i)),c&&n.push(c),n}function i(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function c(t,e){for(var r=new Array(t.length),o=0;o<t.length;o++)"object"==typeof t[o]&&(r[o]=new RegExp("^(?:"+t[o].pattern+")$",p(e)));return function(e,o){for(var a="",c=e||{},u=(o||{}).pretty?i:encodeURIComponent,s=0;s<t.length;s++){var l=t[s];if("string"!=typeof l){var p,f=c[l.name];if(null==f){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(n(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var y=0;y<f.length;y++){if(p=u(f[y]),!r[s].test(p))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(p)+"`");a+=(0===y?l.prefix:l.delimiter)+p}}else{if(p=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!r[s].test(p))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+p+'"');a+=l.prefix+p}}else a+=l}return a}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function p(t){return t&&t.sensitive?"":"i"}function f(t,e,r){n(e)||(r=e||r,e=[]);for(var o=(r=r||{}).strict,a=!1!==r.end,i="",c=0;c<t.length;c++){var s=t[c];if("string"==typeof s)i+=u(s);else{var f=u(s.prefix),y="(?:"+s.pattern+")";e.push(s),s.repeat&&(y+="(?:"+f+y+")*"),i+=y=s.optional?s.partial?f+"("+y+")?":"(?:"+f+"("+y+"))?":f+"("+y+")"}}var b=u(r.delimiter||"/"),d=i.slice(-b.length)===b;return o||(i=(d?i.slice(0,-b.length):i)+"(?:"+b+"(?=$))?"),i+=a?"$":o&&d?"":"(?="+b+"|$)",l(new RegExp("^"+i,p(r)),e)}function y(t,e,r){return n(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):n(t)?function(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(y(t[o],e,r).source);return l(new RegExp("(?:"+n.join("|")+")",p(r)),e)}(t,e,r):function(t,e,r){return f(a(t,r),e,r)}(t,e,r)}},,function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],a=o.obj[o.prop],i=Object.keys(a),c=0;c<i.length;++c){var u=i[c],s=a[u];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(e.push({obj:a,prop:u}),r.push(s))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],o=0;o<e.length;++o)void 0!==e[o]&&n.push(e[o]);r.obj[r.prop]=n}}return e}(e)},decode:function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},encode:function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",n=0;n<e.length;++n){var a=e.charCodeAt(n);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=e.charAt(n):a<128?r+=o[a]:a<2048?r+=o[192|a>>6]+o[128|63&a]:a<55296||a>=57344?r+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(n+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(n)),r+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return r},isBuffer:function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,r,o){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var i=e;return Array.isArray(e)&&!Array.isArray(r)&&(i=a(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach((function(r,a){n.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=t(e[a],r,o):e.push(r):e[a]=r})),e):Object.keys(r).reduce((function(e,a){var i=r[a];return n.call(e,a)?e[a]=t(e[a],i,o):e[a]=i,e}),i)}}},function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(t,e,r){"use strict";t.exports=r(34)},function(t,e){!function(){t.exports=this.ReactDOM}()},function(t,e,r){"use strict";var n=r(28),o=r(29),a=r(21);t.exports={formats:a,parse:o,stringify:n}},function(t,e){!function(){t.exports=this.wc.number}()},function(t,e,r){"use strict";(function(t){var n=r(1),o=r.n(n),a=r(12),i=r(16),c=r.n(i),u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:{};function s(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(r,n){t=r,e.forEach((function(e){return e(t,n)}))}}}var l=o.a.createContext||function(t,e){var r,o,i,l="__create-react-context-"+((u[i="__global_unique_id__"]=(u[i]||0)+1)+"__"),p=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).emitter=s(e.props.value),e}Object(a.a)(r,t);var n=r.prototype;return n.getChildContext=function(){var t;return(t={})[l]=this.emitter,t},n.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var r,n=this.props.value,o=t.value;((a=n)===(i=o)?0!==a||1/a==1/i:a!=a&&i!=i)?r=0:(r="function"==typeof e?e(n,o):1073741823,0!==(r|=0)&&this.emitter.set(t.value,r))}var a,i},n.render=function(){return this.props.children},r}(n.Component);p.childContextTypes=((r={})[l]=c.a.object.isRequired,r);var f=function(e){function r(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,r){0!=((0|t.observedBits)&r)&&t.setState({value:t.getValue()})},t}Object(a.a)(r,e);var n=r.prototype;return n.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?1073741823:e},n.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?1073741823:t},n.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},n.getValue=function(){return this.context[l]?this.context[l].get():t},n.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},r}(n.Component);return f.contextTypes=((o={})[l]=c.a.object,o),{Provider:p,Consumer:f}};e.a=l}).call(this,r(32))},function(t,e,r){"use strict";var n=r(22),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function u(t){return n.isMemo(t)?i:c[t.$$typeof]||o}c[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[n.Memo]=i;var s=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=Object.prototype;t.exports=function t(e,r,n){if("string"!=typeof r){if(b){var o=y(r);o&&o!==b&&t(e,o,n)}var i=l(r);p&&(i=i.concat(p(r)));for(var c=u(e),d=u(r),h=0;h<i.length;++h){var m=i[h];if(!(a[m]||n&&n[m]||d&&d[m]||c&&c[m])){var v=f(r,m);try{s(e,m,v)}catch(t){}}}}return e}},function(t,e,r){"use strict";var n=r(20),o=r(21),a={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},i=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return i.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(e,r,o,a,i,u,s,l,p,f,y,b){var d=e;if("function"==typeof s)d=s(r,d);else if(d instanceof Date)d=f(d);else if(null===d){if(a)return u&&!b?u(r,c.encoder):r;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||n.isBuffer(d))return u?[y(b?r:u(r,c.encoder))+"="+y(u(d,c.encoder))]:[y(r)+"="+y(String(d))];var h,m=[];if(void 0===d)return m;if(Array.isArray(s))h=s;else{var v=Object.keys(d);h=l?v.sort(l):v}for(var g=0;g<h.length;++g){var O=h[g];i&&null===d[O]||(m=Array.isArray(d)?m.concat(t(d[O],o(r,O),o,a,i,u,s,l,p,f,y,b)):m.concat(t(d[O],r+(p?"."+O:"["+O+"]"),o,a,i,u,s,l,p,f,y,b)))}return m};t.exports=function(t,e){var r=t,i=e?n.assign({},e):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===i.delimiter?c.delimiter:i.delimiter,l="boolean"==typeof i.strictNullHandling?i.strictNullHandling:c.strictNullHandling,p="boolean"==typeof i.skipNulls?i.skipNulls:c.skipNulls,f="boolean"==typeof i.encode?i.encode:c.encode,y="function"==typeof i.encoder?i.encoder:c.encoder,b="function"==typeof i.sort?i.sort:null,d=void 0!==i.allowDots&&i.allowDots,h="function"==typeof i.serializeDate?i.serializeDate:c.serializeDate,m="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:c.encodeValuesOnly;if(void 0===i.format)i.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,i.format))throw new TypeError("Unknown format option provided.");var v,g,O=o.formatters[i.format];"function"==typeof i.filter?r=(g=i.filter)("",r):Array.isArray(i.filter)&&(v=g=i.filter);var w,j=[];if("object"!=typeof r||null===r)return"";w=i.arrayFormat in a?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var _=a[w];v||(v=Object.keys(r)),b&&v.sort(b);for(var P=0;P<v.length;++P){var R=v[P];p&&null===r[R]||(j=j.concat(u(r[R],R,_,l,p,f?y:null,g,b,d,h,O,m)))}var S=j.join(s),x=!0===i.addQueryPrefix?"?":"";return S.length>0?x+S:""}},function(t,e,r){"use strict";var n=r(20),o=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),c=i?n.slice(0,i.index):n,u=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var s=0;null!==(i=a.exec(n))&&s<r.depth;){if(s+=1,!r.plainObjects&&o.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(i[1])}return i&&u.push("["+n.slice(i.index)+"]"),function(t,e,r){for(var n=e,o=t.length-1;o>=0;--o){var a,i=t[o];if("[]"===i)a=(a=[]).concat(n);else{a=r.plainObjects?Object.create(null):{};var c="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,u=parseInt(c,10);!isNaN(u)&&i!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=n:a[c]=n}n=a}return n}(u,e,r)}};t.exports=function(t,e){var r=e?n.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"==typeof r.depth?r.depth:a.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===t||null==t)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){for(var r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,c=n.split(e.delimiter,i),u=0;u<c.length;++u){var s,l,p=c[u],f=p.indexOf("]="),y=-1===f?p.indexOf("="):f+1;-1===y?(s=e.decoder(p,a.decoder),l=e.strictNullHandling?null:""):(s=e.decoder(p.slice(0,y),a.decoder),l=e.decoder(p.slice(y+1),a.decoder)),o.call(r,s)?r[s]=[].concat(r[s]).concat(l):r[s]=l}return r}(t,r):t,u=r.plainObjects?Object.create(null):{},s=Object.keys(c),l=0;l<s.length;++l){var p=s[l],f=i(p,c[p],r);u=n.merge(u,f,r)}return n.compact(u)}},function(t,e,r){"use strict";var n=r(31);function o(){}function a(){}a.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,a,i){if(i!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,r){"use strict";
  /** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,c=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function j(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case p:case f:case i:case u:case c:case b:return t;default:switch(t=t&&t.$$typeof){case l:case y:case m:case h:case s:return t;default:return e}}case a:return e}}}function _(t){return j(t)===f}e.AsyncMode=p,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=s,e.Element=o,e.ForwardRef=y,e.Fragment=i,e.Lazy=m,e.Memo=h,e.Portal=a,e.Profiler=u,e.StrictMode=c,e.Suspense=b,e.isAsyncMode=function(t){return _(t)||j(t)===p},e.isConcurrentMode=_,e.isContextConsumer=function(t){return j(t)===l},e.isContextProvider=function(t){return j(t)===s},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return j(t)===y},e.isFragment=function(t){return j(t)===i},e.isLazy=function(t){return j(t)===m},e.isMemo=function(t){return j(t)===h},e.isPortal=function(t){return j(t)===a},e.isProfiler=function(t){return j(t)===u},e.isStrictMode=function(t){return j(t)===c},e.isSuspense=function(t){return j(t)===b},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===f||t===u||t===c||t===b||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===h||t.$$typeof===s||t.$$typeof===l||t.$$typeof===y||t.$$typeof===g||t.$$typeof===O||t.$$typeof===w||t.$$typeof===v)},e.typeOf=j},function(t,e,r){"use strict";r.r(e);var n=r(1),o=r.n(n),a=r(23),i=r.n(a),c=r(12);r(16);function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function s(t){return"/"===t.charAt(0)}function l(t,e){for(var r=e,n=r+1,o=t.length;n<o;r+=1,n+=1)t[r]=t[n];t.pop()}var p=function(t,e){void 0===e&&(e="");var r,n=t&&t.split("/")||[],o=e&&e.split("/")||[],a=t&&s(t),i=e&&s(e),c=a||i;if(t&&s(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";if(o.length){var u=o[o.length-1];r="."===u||".."===u||""===u}else r=!1;for(var p=0,f=o.length;f>=0;f--){var y=o[f];"."===y?l(o,f):".."===y?(l(o,f),p++):p&&(l(o,f),p--)}if(!c)for(;p--;p)o.unshift("..");!c||""===o[0]||o[0]&&s(o[0])||o.unshift("");var b=o.join("/");return r&&"/"!==b.substr(-1)&&(b+="/"),b};var f=function(t,e){if(!t)throw new Error("Invariant failed")};function y(t){var e=t.pathname,r=t.search,n=t.hash,o=e||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}function b(t,e,r,n){var o;"string"==typeof t?(o=function(t){var e=t||"/",r="",n="",o=e.indexOf("#");-1!==o&&(n=e.substr(o),e=e.substr(0,o));var a=e.indexOf("?");return-1!==a&&(r=e.substr(a),e=e.substr(0,a)),{pathname:e,search:"?"===r?"":r,hash:"#"===n?"":n}}(t)).state=e:(void 0===(o=u({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(o.key=r),n?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=p(o.pathname,n.pathname)):o.pathname=n.pathname:o.pathname||(o.pathname="/"),o}function d(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,r,n,o){if(null!=t){var a="function"==typeof t?t(e,r):t;"string"==typeof a?"function"==typeof n?n(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(t){var r=!0;function n(){r&&t.apply(void 0,arguments)}return e.push(n),function(){r=!1,e=e.filter((function(t){return t!==n}))}},notifyListeners:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.forEach((function(t){return t.apply(void 0,r)}))}}}"undefined"==typeof window||!window.document||window.document.createElement;function h(t,e,r){return Math.min(Math.max(t,e),r)}function m(t){void 0===t&&(t={});var e=t,r=e.getUserConfirmation,n=e.initialEntries,o=void 0===n?["/"]:n,a=e.initialIndex,i=void 0===a?0:a,c=e.keyLength,s=void 0===c?6:c,l=d();function p(t){u(w,t),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,s)}var m=h(i,0,o.length-1),v=o.map((function(t){return b(t,void 0,"string"==typeof t?f():t.key||f())})),g=y;function O(t){var e=h(w.index+t,0,w.entries.length-1),n=w.entries[e];l.confirmTransitionTo(n,"POP",r,(function(t){t?p({action:"POP",location:n,index:e}):p()}))}var w={length:v.length,action:"POP",location:v[m],index:m,entries:v,createHref:g,push:function(t,e){var n=b(t,e,f(),w.location);l.confirmTransitionTo(n,"PUSH",r,(function(t){if(t){var e=w.index+1,r=w.entries.slice(0);r.length>e?r.splice(e,r.length-e,n):r.push(n),p({action:"PUSH",location:n,index:e,entries:r})}}))},replace:function(t,e){var n=b(t,e,f(),w.location);l.confirmTransitionTo(n,"REPLACE",r,(function(t){t&&(w.entries[w.index]=n,p({action:"REPLACE",location:n}))}))},go:O,goBack:function(){O(-1)},goForward:function(){O(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return w}var v=r(26),g=r(18),O=r.n(g);r(22);function w(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}r(27);var j=function(t){var e=Object(v.a)();return e.displayName=t,e}("Router"),_=function(t){function e(e){var r;return(r=t.call(this,e)||this).state={location:e.history.location},r._isMounted=!1,r._pendingLocation=null,e.staticContext||(r.unlisten=e.history.listen((function(t){r._isMounted?r.setState({location:t}):r._pendingLocation=t}))),r}Object(c.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var r=e.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return o.a.createElement(j.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(o.a.Component);o.a.Component;o.a.Component;var P={},R=0;function S(t,e){void 0===e&&(e={}),("string"==typeof e||Array.isArray(e))&&(e={path:e});var r=e,n=r.path,o=r.exact,a=void 0!==o&&o,i=r.strict,c=void 0!==i&&i,u=r.sensitive,s=void 0!==u&&u;return[].concat(n).reduce((function(e,r){if(!r&&""!==r)return null;if(e)return e;var n=function(t,e){var r=""+e.end+e.strict+e.sensitive,n=P[r]||(P[r]={});if(n[t])return n[t];var o=[],a={regexp:O()(t,o,e),keys:o};return R<1e4&&(n[t]=a,R++),a}(r,{end:a,strict:c,sensitive:s}),o=n.regexp,i=n.keys,u=o.exec(t);if(!u)return null;var l=u[0],p=u.slice(1),f=t===l;return a&&!f?null:{path:r,url:"/"===r&&""===l?"/":l,isExact:f,params:i.reduce((function(t,e,r){return t[e.name]=p[r],t}),{})}}),null)}var x=function(t){function e(){return t.apply(this,arguments)||this}return Object(c.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(j.Consumer,null,(function(e){e||f(!1);var r=t.props.location||e.location,n=u({},e,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?S(r.pathname,t.props):e.match}),a=t.props,i=a.children,c=a.component,s=a.render;return Array.isArray(i)&&0===i.length&&(i=null),o.a.createElement(j.Provider,{value:n},n.match?i?"function"==typeof i?i(n):i:c?o.a.createElement(c,n):s?s(n):null:"function"==typeof i?i(n):null)}))},e}(o.a.Component);function E(t){return"/"===t.charAt(0)?t:"/"+t}function k(t,e){if(!t)return e;var r=E(t);return 0!==e.pathname.indexOf(r)?e:u({},e,{pathname:e.pathname.substr(r.length)})}function C(t){return"string"==typeof t?t:y(t)}function T(t){return function(){f(!1)}}function q(){}o.a.Component;var D=function(t){function e(){return t.apply(this,arguments)||this}return Object(c.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(j.Consumer,null,(function(e){e||f(!1);var r,n,a=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==n&&o.a.isValidElement(t)){r=t;var i=t.props.path||t.props.from;n=i?S(a.pathname,u({},t.props,{path:i})):e.match}})),n?o.a.cloneElement(r,{location:a,computedMatch:n}):null}))},e}(o.a.Component);o.a.useContext;var A=r(10),I=r(3),F=r(24),M=r(7);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=W(t);if(e){var o=W(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return U(this,r)}}function U(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?V(t):e}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(a,t);var e,r,n,o=H(a);function a(){var t;Q(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return B(V(t=o.call.apply(o,[this].concat(r))),"getQuery",(function(t){if(!t)return{};var e=t.substring(1);return Object(F.parse)(e)})),B(V(t),"getPath",(function(t){return t})),t}return e=a,(r=[{key:"componentDidMount",value:function(){window.document.documentElement.scrollTop=0}},{key:"componentDidUpdate",value:function(t){var e=this.getQuery(t.location.search),r=Object(I.omit)(this.getQuery(t.location.search),"paged"),n=Object(I.omit)(this.getQuery(this.props.location.search),"paged");e.paged>1&&!Object(I.isEqual)(r,n)&&Object(A.getHistory)().replace(Object(A.getNewPath)({paged:1})),t.match.url!==this.props.match.url&&(window.document.documentElement.scrollTop=0)}},{key:"render",value:function(){var t=this.props,e=t.container,r=t.location,n=this.getQuery(r.search),o=this.getPath(r.pathname);return Object(M.createElement)(e,{location:r,path:o,query:n})}}])&&L(e.prototype,r),n&&L(e,n),a}(M.Component),Y=r(6);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=et(t);if(e){var o=et(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tt(this,r)}}function tt(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(i,t);var e,r,n,a=Z(i);function i(){return J(this,i),a.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this.props,e=t.query,r=t.path,n=t.onDataSelect,a=t.filters,i=t.onFilterSelect,c=t.report;return o.a.createElement(Y.ReportFilters,{path:r,query:e,filters:a,report:c,onDateSelect:n,onFilterSelect:i})}}])&&K(e.prototype,r),n&&K(e,n),i}(n.Component),nt=r(25);function ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return at(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function it(t,e,r,n){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+t)?+t:0,a=isFinite(+e)?Math.abs(e):0,i=void 0===n?",":n,c=void 0===r?".":r,u="";return(u=(a?function(t,e){if(-1===(""+t).indexOf("e"))return+(Math.round(t+"e+"+e)+"e-"+e);var r=(""+t).split("e"),n="";return+r[1]+e>0&&(n="+"),(+(Math.round(+r[0]+"e"+n+(+r[1]+e))+"e-"+e)).toFixed(e)}(o,a).toString():""+Math.round(o)).split("."))[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(u[1]||"").length<a&&(u[1]=u[1]||"",u[1]+=new Array(a-u[1].length+1).join("0")),u.join(c)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof t&&(t=parseFloat(t)),isNaN(t))return"";var r=ywsbsSettings.wc.currency.decimal_separator,n=ywsbsSettings.wc.currency.thousand_separator;if(e=parseInt(e),isNaN(e)){var o=t.toString().split("."),a=ot(o,2),i=a[1];e=i?i.length:0}return it(t,e,r,n)}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=ywsbsSettings.wc.currency.symbol);var r=ywsbsSettings.wc.currency.precision,n=ct(t,r),o=ywsbsSettings.wc.currency.price_format;return""===n?n:sprintf(o,e,n)}function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ht(t);if(e){var o=ht(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bt(this,r)}}function bt(t,e){return!e||"object"!==st(e)&&"function"!=typeof e?dt(t):e}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(i,t);var e,r,n,a=yt(i);function i(){var t;lt(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return mt(dt(t=a.call.apply(a,[this].concat(r))),"formatVal",(function(t,e){return"currency"===e?ut(t):ct(t,0)})),t}return e=i,(r=[{key:"getValues",value:function(t,e){var r=this.props.stats,n=r.primary.data.totals[t],o=r.secondary.data.totals[t];if("currency"!==e)var a=parseInt(a),i=parseInt(i);return{delta:Object(nt.calculateDelta)(n,o),prevValue:this.formatVal(o,e),value:this.formatVal(n,e)}}},{key:"render",value:function(){var t=this,e=this.props,r=e.isRequesting,n=e.stats,a=e.charts,i=e.selectedChart;return r||!n?o.a.createElement(Y.SummaryListPlaceholder,{numberOfItems:a.length}):o.a.createElement(Y.SummaryList,null,(function(){return a.map((function(e){var r=e.key,n=e.order,a=e.orderby,c=e.label,u=e.type,s=t.getValues(r,u),l=s.value,p=s.prevValue,f=s.delta,y={chart:r};a&&(y.orderby=a),n&&(y.order=n);var b=Object(A.getNewPath)(y),d=i.key===r;return o.a.createElement(Y.SummaryNumber,{key:r,label:c,value:l,prevValue:p,delta:f,href:b,selected:d})}))}))}}])&&pt(e.prototype,r),n&&pt(e,n),i}(n.Component),gt=r(13),Ot=r(0),wt=r(2),jt=r(8),_t=r.n(jt),Pt=r(9);function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(I.find)(e,{key:t});return r||e[0]}function St(t){switch(t){case"currency":return ut;case"percent":return".0%";case"number":return",";case"average":return",.2r";default:return","}}function xt(t){return"<span class='status column-status'><span class='status "+t+"'>"+ywsbsSettings.wc.status_labels[t].toLowerCase()+"</span></span>"}function Et(t,e){return"<a href='post.php?post="+e+"&action=edit'>"+t+"</a>"}function kt(t,e){return"<a href='admin.php?page=yith_woocommerce_subscription&tab=dashboard&filter=single_product&path=/products-report&products="+e+"'>"+t+"</a>"}function Ct(t){var e=t||{},r=e.first_name,n=e.last_name;return r||n?[r,n].join(" "):Object(Ot.__)("Guest","yith-woocommerce-subscription")}function Tt(t){var e=t.attributes,r=t.name,n=getSetting("variationTitleAttributesSeparator"," - ");if(r.indexOf(n)>-1)return r;var o=e.map((function(t){return t.option})).join(", ");return o?r+n+o:r}var qt=Dt((function(t){var e=t.products;return e?"/wc-analytics"+"/products/".concat(e,"/variations"):"/wc-analytics/variations"}),(function(t){return{key:t.id,label:Tt(t)}}));function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.identity;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,o="function"==typeof t?t(n):t,a=At(r);if(a.length<1)return Promise.resolve([]);var i={include:a.join(","),per_page:a.length};return _t()({path:Object(Pt.addQueryArgs)(o,i)}).then((function(t){return t.map(e)}))}}function At(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(I.uniq)(t.split(",").map((function(t){return parseInt(t,10)})).filter(Boolean))}var It=Dt("/wc-analytics/products",(function(t){return{key:t.id,label:t.name}}));function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ht(t);if(e){var o=Ht(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $t(this,r)}}function $t(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(c,t);var e,r,a,i=Lt(c);function c(){return Mt(this,c),i.apply(this,arguments)}return e=c,(r=[{key:"getTimeChartData",value:function(){var t=this.props,e=t.query,r=t.stats,n=t.selectedChart,o=t.isRequesting,a=Object(wt.getIntervalForQuery)(e),i=Object(wt.getCurrentDates)(e),c=i.primary,u=i.secondary;return o?[]:(Object(wt.getDateFormatsForInterval)(a,r.primary.data.intervals.length),r.primary.data.intervals.map((function(t,o){var i=Object(wt.getPreviousDate)(t.date_start,c.after,u.after,e.compare,a),s=r.secondary.data.intervals[o];return{date:Object(gt.format)("Y-m-d\\TH:i:s",t.date_start),primary:{label:"".concat(c.label," (").concat(c.range,")"),labelDate:t.date_start,value:t.subtotals[n.key]||0},secondary:{label:"".concat(u.label," (").concat(u.range,")"),labelDate:i.format("YYYY-MM-DD HH:mm:ss"),value:s&&s.subtotals[n.key]||0}}})))}},{key:"getTimeChartTotals",value:function(){var t=this.props,e=t.stats,r=t.selectedChart;return t.isRequesting?[]:{primary:Object(I.get)(e.primary,["data","totals",r.key],null),secondary:Object(I.get)(e.secondary,["data","totals",r.key],null)}}},{key:"getFormatChart",value:function(){var t=this.props,e=t.query,r=t.stats,n=(t.selectedChart,t.isRequesting),o=Object(wt.getIntervalForQuery)(e),a=Object(wt.getCurrentDates)(e);return a.primary,a.secondary,n?[]:Object(wt.getDateFormatsForInterval)(o,r.primary.data.intervals.length)}},{key:"render",value:function(){var t=this.props,e=t.path,r=t.query,a=(t.charts,t.selectedChart),i=t.isRequesting,c=(t.stats,Object(wt.getAllowedIntervalsForQuery)(r)),u=this.getFormatChart();return o.a.createElement(n.Fragment,null,o.a.createElement(Y.Chart,{allowedIntervals:c,data:this.getTimeChartData(),dateParser:"%Y-%m-%dT%H:%M:%S",emptyMessage:Object(Ot.__)("No data for the selected date range","yith-woocommerce-subscription"),isRequesting:i,title:a.label,valueType:a.type,interval:r.interval,legendTotals:this.getTimeChartTotals(),mode:"time-comparison",query:r,path:e,tooltipLabelFormat:u.tooltipLabelFormat,tooltipValueFormat:St(a.type),chartType:Object(wt.getChartTypeForQuery)(r),xFormat:u.xFormat,x2Format:u.x2Format,screenReaderFormat:u.screenReaderFormat}))}}])&&Nt(e.prototype,r),a&&Nt(e,a),c}(n.Component);r(4);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Kt(t);if(e){var o=Kt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gt(this,r)}}function Gt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?Jt(t):e}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(i,t);var e,r,n,a=Yt(i);function i(){var t;Wt(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Xt(Jt(t=a.call.apply(a,[this].concat(r))),"onSort",(function(e,r){r="desc"===t.props.query.order?"asc":"desc",Object(A.onQueryChange)("sort")(e,r)})),t}return e=i,(r=[{key:"getFormattedHeaders",value:function(){return this.props.headers.map((function(t,e){return{isLeftAligned:0===e,hiddenByDefault:!1,isSortable:!!(null==t?void 0:t.isSortable)&&t.isSortable,key:(null==t?void 0:t.key)?t.key:t.label,label:t.label}}))}},{key:"getFormattedRows",value:function(){return this.props.rows.map((function(t){return t.map((function(t){return{display:o.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.display}}),value:t.value}}))}))}},{key:"render",value:function(){var t=this,e=this.props,r=e.isRequesting,n=e.totalRows,a=e.title,i=e.rowsPerPage,c=e.query,u=this.getFormattedRows();return o.a.createElement(Y.TableCard,{className:"woocommerce-report-table woocommerce-analytics__card",headers:this.getFormattedHeaders(),isLoading:r,rows:u,rowsPerPage:parseInt(i),showMenu:!1,title:a,totalRows:parseInt(n),query:c,onPageChange:A.onQueryChange,onQueryChange:A.onQueryChange,onSort:function(e,r){return t.onSort(e,r)}})}}])&&Bt(e.prototype,r),n&&Bt(e,n),i}(M.Component);Zt.defaultProps={rows:[],isError:!1,isRequesting:!1};function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){re(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function re(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ne(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function oe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ne(a,n,o,i,c,"next",t)}function c(t){ne(a,n,o,i,c,"throw",t)}i(void 0)}))}}var ae=function(){var t=oe(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i,c,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},r={isEmpty:!1,isError:!1,data:{},totalResults:0,totalPages:0},n=ie(e),t.next=5,ce(n);case 5:if(!(o=t.sent).error){t.next=10;break}return t.abrupt("return",ee(ee({},r),{},{isError:!0}));case 10:if(o&&o.data){t.next=12;break}return t.abrupt("return",ee(ee({},r),{},{isEmpty:!0}));case 12:return a=o.totalResults,i=o.totalPages,c=o.data,t.abrupt("return",ee(ee({},r),{},{totalResults:a,totalPages:i,data:c}));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function ie(t){var e=(null==t?void 0:t.chart)?t.chart:"",r=Object(wt.getCurrentDates)(t),n=Object(wt.getIntervalForQuery)(t),o=r.primary.before,a="date_created",i=(null==t?void 0:t.paged)?t.paged:1,c=(null==t?void 0:t.per_page)?t.per_page:25;["date_created","subscription_id","status","product_name","net_total"].includes(t.orderby)&&(a=t.orderby);var u={order:t.order,orderby:a,interval:n,per_page:c,page:i,after:Object(wt.appendTimestamp)(r.primary.after,"start"),before:Object(wt.appendTimestamp)(o,"end"),extended_info:!0,conversions:"conversions"===e,renews:"renews_count"===e||"renews_net_revenue"==e,status_is:[]};return"trial"===e&&(u.status_is="trial"),"cancelled_subscriptions"===e&&(u.status_is="cancelled,expired"),u}var ce=function(){var t=oe(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.prev=1,t.next=4,_t()({path:Object(Pt.addQueryArgs)("yith-ywsbs/reports/subscriptions",e),parse:!1});case 4:return r=t.sent,n=parseInt(r.headers.get("x-wp-total")),o=parseInt(r.headers.get("x-wp-totalpages")),t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",{data:a,totalResults:n,totalPages:o});case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t){return function(t){if(Array.isArray(t))return le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return le(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(r),!0).forEach((function(e){we(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ye(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function de(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function he(t,e){return(he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Oe(t);if(e){var o=Oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ve(this,r)}}function ve(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?ge(t):e}function ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function we(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(a,t);var e,r,n,o=me(a);function a(){var t;return be(this,a),we(ge(t=o.apply(this,arguments)),"getQueryWithoutChart",(function(t){t.chart,t.chartType;return fe({},ye(t,["chart","chartType"]))})),we(ge(t),"update",(function(){var e=t.props.query;t.setState({subscriptionIsRequesting:!0}),ae(e).then((function(e){var r=e.data,n=e.totalResults,o=e.totalPages;t.setState({subscriptionReport:r,subscriptionIsRequesting:!1,totalResults:n,totalPages:o})}))})),t.state={subscriptionIsRequesting:!1,subscriptionReport:[],totalResults:0,totalPages:0},t}return e=a,(r=[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(t,e){if(!Object(I.isEqual)(t.query,this.props.query)){var r=this.getQueryWithoutChart(t.query),n=this.getQueryWithoutChart(this.props.query);Object(I.isEqual)(r,n)||this.update()}}},{key:"getHeadersContent",value:function(){var t=this.props.query,e=[{label:Object(Ot.__)("Date","yith-woocommerce-subscription"),key:"date_created",isSortable:!0},{label:Object(Ot.__)("Subscription #","yith-woocommerce-subscription"),key:"subscription_id",isSortable:!0},{label:Object(Ot.__)("Status","yith-woocommerce-subscription"),key:"status",isSortable:!0},{label:Object(Ot.__)("End Date","yith-woocommerce-subscription"),key:"cancelled_date",isSortable:!0},{label:Object(Ot.__)("Customer","yith-woocommerce-subscription")},{label:Object(Ot.__)("Product","yith-woocommerce-subscription"),key:"product_name",isSortable:!0},{label:Object(Ot.__)("Net","yith-woocommerce-subscription"),key:"net_total",isSortable:!0,isNumeric:!0}];return"conversions"==t.chart&&(e=[].concat(se(e),[{label:Object(Ot.__)("Conversion Date","yith-woocommerce-subscription"),key:"conversion_date",isSortable:!1}])),e}},{key:"getRowsContent",value:function(){var t=this;return this.state.subscriptionReport.map((function(e){var r=(e.extended_info||{}).customer,n="0000-00-00 00:00:00"!==e.cancelled_date?Object(gt.format)(ywsbsSettings.wc.date_format,e.cancelled_date):"-";return[{display:Object(gt.format)(ywsbsSettings.wc.date_format,e.date_created),value:e.date_created},{display:Et("#"+e.subscription_id,e.subscription_id),value:e.subscription_id},{display:xt(e.status),value:e.status},{display:n,value:e.cancelled_date},{display:t.getCustomerName(r),value:t.getCustomerName(r)},{display:kt(e.product_name,e.product_id),value:e.product_name},{display:ut(e.net_total),value:e.net_total},{display:Object(gt.format)(ywsbsSettings.wc.date_format,e.conversion_date),value:e.conversion_date}]}))}},{key:"getSummary",value:function(){}},{key:"getCustomerName",value:function(t){var e=t||{},r=e.first_name,n=e.last_name;return r||n?[r,n].join(" "):""}},{key:"render",value:function(){var t=this.props,e=t.query,r=t.isRequesting,n=(null==e?void 0:e.per_page)?e.per_page:25,o=this.getRowsContent(),a=this.state.totalResults;return React.createElement(M.Fragment,null,React.createElement(Zt,{headers:this.getHeadersContent(),rows:o,query:e,totalRows:a,rowsPerPage:parseInt(n),title:Object(Ot.__)("Subscriptions list","yith-woocommerce-subscription"),isRequesting:r}))}}])&&de(e.prototype,r),n&&de(e,n),a}(M.Component),_e=r(14),Pe=Object(_e.applyFilters)("yith_ywsbs_dashboard_subscription_charts",[{key:"total_revenue",label:Object(Ot.__)("Total Net Sale","yith-woocommerce-subscription"),type:"currency",order:"desc",orderby:"date_created"},{key:"subscriptions_count",label:Object(Ot.__)("New Subscriptions","yith-woocommerce-subscription"),type:"number",order:"desc",orderby:"date_created"},{key:"net_revenue",label:Object(Ot.__)("Net Sales of new subscriptions","yith-woocommerce-subscription"),order:"desc",orderby:"net_total",type:"currency"},{key:"renews_count",label:Object(Ot.__)("Renewed subscriptions","yith-woocommerce-subscription"),type:"number",order:"desc",orderby:"date_created"},{key:"renews_net_revenue",label:Object(Ot.__)("Net Sales of renewed subscriptions","yith-woocommerce-subscription"),type:"currency",order:"desc",orderby:"date_created"},{key:"cancelled_subscriptions",label:Object(Ot.__)("Cancelled subscriptions","yith-woocommerce-subscription"),order:"desc",orderby:"cancelled_date"},{key:"trial",label:Object(Ot.__)("New Trials","yith-woocommerce-subscription"),order:"desc",orderby:"status"},{key:"conversions",label:Object(Ot.__)("Trial conversions","yith-woocommerce-subscription"),order:"desc",orderby:"trial"},{key:"mrr",label:Object(Ot.__)("MRR (Monthly Recurring Revenue)","yith-woocommerce-subscription"),order:"desc",orderby:"mrr",type:"currency"},{key:"arr",label:Object(Ot.__)("ARR (Annual Recurring Revenue)","yith-woocommerce-subscription"),order:"desc",orderby:"arr",type:"currency"}]);function Re(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(r),!0).forEach((function(e){xe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ee(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ke(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Ee(a,n,o,i,c,"next",t)}function c(t){Ee(a,n,o,i,c,"throw",t)}i(void 0)}))}}var Ce=function(){var t=ke(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i,c,u,s,l,p,f,y,b,d,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]?h[0]:{},r={isEmpty:!1,isError:!1,data:{totals:{},intervals:[]}},n=qe(e),t.next=5,Te(n);case 5:if(!(o=t.sent).error){t.next=10;break}return t.abrupt("return",Se(Se({},r),{},{isError:!0}));case 10:if(!De(o)){t.next=12;break}return t.abrupt("return",Se(Se({},r),{},{isEmpty:!0}));case 12:if(a=o&&o.data&&o.data.totals||null,i=o&&o.data&&o.data.intervals||[],!(o.totalResults>100)){t.next=36;break}for(c=[],u=Math.ceil(o.totalResults/100),s=!1,l=[],p=2;p<=u;p++)f=Se(Se({},n),{},{page:p}),l.push(Te(f));return t.next=22,Promise.all(l);case 22:y=t.sent,b=0;case 24:if(!(b<y.length)){t.next=33;break}if(!(d=y[b]).error){t.next=29;break}return s=!0,t.abrupt("break",33);case 29:c.push(d);case 30:b++,t.next=24;break;case 33:if(!s){t.next=35;break}return t.abrupt("return",Se(Se({},r),{},{isError:!0}));case 35:Object(I.forEach)(c,(function(t){i=i.concat(t.data.intervals)}));case 36:return t.abrupt("return",Se(Se({},r),{},{data:{totals:a,intervals:i}}));case 37:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Te=function(){var t=ke(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},e=Se(Se({},{per_page:100}),e),t.prev=3,t.next=6,_t()({path:Object(Pt.addQueryArgs)("yith-ywsbs/reports/subscriptions/stats",e),parse:!1});case 6:return r=t.sent,n=parseInt(r.headers.get("x-wp-total")),o=parseInt(r.headers.get("x-wp-totalpages")),t.next=11,r.json();case 11:return a=t.sent,t.abrupt("return",{data:a,totalResults:n,totalPages:o});case 15:return t.prev=15,t.t0=t.catch(3),console.log('"********* ERROR ON REQUEST ************"'),console.log(t.t0),t.abrupt("return",{error:t.t0});case 20:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(){return t.apply(this,arguments)}}();function qe(t){var e=t.dataType,r=t.query,n=Object(wt.getCurrentDates)(r),o=Object(wt.getIntervalForQuery)(r),a=n[e].before;return{order:"asc",interval:o,per_page:100,page:1,after:Object(wt.appendTimestamp)(n[e].after,"start"),before:Object(wt.appendTimestamp)(a,"end"),segmentby:r.segmentby}}function De(t){return!t||!t.data}function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Fe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Ie(a,n,o,i,c,"next",t)}function c(t){Ie(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(r),!0).forEach((function(e){ze(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qe(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Be(t);if(e){var o=Be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ve(this,r)}}function Ve(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?We(t):e}function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(c,t);var e,r,a,i=Ue(c);function c(){var t;return Le(this,c),ze(We(t=i.apply(this,arguments)),"getQueryWithoutChart",(function(t){t.chart,t.chartType;return Ne({},Qe(t,["chart","chartType"]))})),ze(We(t),"update",function(){var e=Fe(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isRequesting:!0}),e.next=3,Ce({query:r,dataType:"primary"});case 3:return e.t0=e.sent,e.next=6,Ce({query:r,dataType:"secondary"});case 6:e.t1=e.sent,n={primary:e.t0,secondary:e.t1},t.setState({stats:n,isRequesting:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.state={stats:{},isRequesting:!0},t}return e=c,(r=[{key:"componentDidMount",value:function(){var t=this.props.query;this.update(t)}},{key:"componentDidUpdate",value:function(t,e){if(!Object(I.isEqual)(t.query,this.props.query)){var r=this.getQueryWithoutChart(t.query),n=this.getQueryWithoutChart(this.props.query);Object(I.isEqual)(r,n)?this.setState({}):this.update(this.props.query)}}},{key:"render",value:function(){var t=this,e=this.props,r=e.path,a=e.query,i=this.state,c=i.stats,u=i.isRequesting,s=(i.currentQuery,Rt(a.chart,Pe));return o.a.createElement(n.Fragment,null,o.a.createElement(rt,{path:r,query:a,onDataSelect:function(e){return t.update(e)},report:"orders"}),o.a.createElement(vt,{path:r,query:a,charts:Pe,selectedChart:s,stats:c,isRequesting:u}),o.a.createElement(Ut,{path:r,query:a,selectedChart:s,stats:c,isRequesting:u}),o.a.createElement(je,{query:a,isRequesting:u}))}}])&&$e(e.prototype,r),a&&$e(e,a),c}(n.Component);function Ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(r),!0).forEach((function(e){Ke(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ke(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xe(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Ze(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Xe(a,n,o,i,c,"next",t)}function c(t){Xe(a,n,o,i,c,"throw",t)}i(void 0)}))}}var tr=function(){var t=Ze(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i,c,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},r={isEmpty:!1,isError:!1,data:{},totalResults:0,totalPages:0},n=er(e),t.next=5,rr(n);case 5:if(!(o=t.sent).error){t.next=10;break}return t.abrupt("return",Je(Je({},r),{},{isError:!0}));case 10:if(o&&o.data){t.next=12;break}return t.abrupt("return",Je(Je({},r),{},{isEmpty:!0}));case 12:return a=o.totalResults,i=o.totalPages,c=o.data,t.abrupt("return",Je(Je({},r),{},{totalResults:a,totalPages:i,data:c}));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function er(t){var e=Object(wt.getCurrentDates)(t),r=Object(wt.getIntervalForQuery)(t),n=e.primary.before;return{order:t.order,orderby:"cancelled_date",interval:r,per_page:5,page:1,after:Object(wt.appendTimestamp)(e.primary.after,"start"),before:Object(wt.appendTimestamp)(n,"end")}}var rr=function(){var t=Ze(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.prev=1,t.next=4,_t()({path:Object(Pt.addQueryArgs)("yith-ywsbs/reports/lost-subscribers",e),parse:!1});case 4:return r=t.sent,n=parseInt(r.headers.get("x-wp-total")),o=parseInt(r.headers.get("x-wp-totalpages")),t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",{data:a,totalResults:n,totalPages:o});case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();function nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(r),!0).forEach((function(e){ar(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ar(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ir(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function cr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ir(a,n,o,i,c,"next",t)}function c(t){ir(a,n,o,i,c,"throw",t)}i(void 0)}))}}var ur=function(){var t=cr(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i,c,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},r={isEmpty:!1,isError:!1,data:{},totalResults:0,totalPages:0},n=sr(e),t.next=5,lr(n);case 5:if(!(o=t.sent).error){t.next=10;break}return t.abrupt("return",or(or({},r),{},{isError:!0}));case 10:if(o&&o.data){t.next=12;break}return t.abrupt("return",or(or({},r),{},{isEmpty:!0}));case 12:return a=o.totalResults,i=o.totalPages,c=o.data,t.abrupt("return",or(or({},r),{},{totalResults:a,totalPages:i,data:c}));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function sr(t){var e=Object(wt.getCurrentDates)(t),r=Object(wt.getIntervalForQuery)(t),n=e.primary.before,o="subscribers-report"===t.tab?"dashboard":"leaderboard",a="dashboard"===o?t.orderby:"total_paid";return{order:t.order,orderby:a,interval:r,per_page:"dashboard"===o?25:5,page:1,after:Object(wt.appendTimestamp)(e.primary.after,"start"),before:Object(wt.appendTimestamp)(n,"end"),type:o}}var lr=function(){var t=cr(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.prev=1,t.next=4,_t()({path:Object(Pt.addQueryArgs)("yith-ywsbs/reports/customers",e),parse:!1});case 4:return r=t.sent,n=parseInt(r.headers.get("x-wp-total")),o=parseInt(r.headers.get("x-wp-totalpages")),t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",{data:a,totalResults:n,totalPages:o});case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();function pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(r),!0).forEach((function(e){yr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function br(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function dr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){br(a,n,o,i,c,"next",t)}function c(t){br(a,n,o,i,c,"throw",t)}i(void 0)}))}}var hr=function(){var t=dr(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i,c,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},r={isEmpty:!1,isError:!1,data:{},totalResults:0,totalPages:0},n=mr(e),t.next=5,vr(n);case 5:if(!(o=t.sent).error){t.next=10;break}return t.abrupt("return",fr(fr({},r),{},{isError:!0}));case 10:if(o&&o.data){t.next=12;break}return t.abrupt("return",fr(fr({},r),{},{isEmpty:!0}));case 12:return a=o.totalResults,i=o.totalPages,c=o.data,t.abrupt("return",fr(fr({},r),{},{totalResults:a,totalPages:i,data:c}));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function mr(t){var e=Object(wt.getCurrentDates)(t),r=Object(wt.getIntervalForQuery)(t),n=e.primary.before,o=(null==t?void 0:t.per_page)?t.per_page:25,a=(null==t?void 0:t.paged)?t.paged:1;return{order:t.order,orderby:t.orderby,interval:r,per_page:o,page:a,after:Object(wt.appendTimestamp)(e.primary.after,"start"),before:Object(wt.appendTimestamp)(n,"end"),products:(null==t?void 0:t.products)?t.products:""}}var vr=function(){var t=dr(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.prev=1,t.next=4,_t()({path:Object(Pt.addQueryArgs)("yith-ywsbs/reports/products",e),parse:!1});case 4:return r=t.sent,n=parseInt(r.headers.get("x-wp-total")),o=parseInt(r.headers.get("x-wp-totalpages")),t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",{data:a,totalResults:n,totalPages:o});case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Or(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Or(Object(r),!0).forEach((function(e){Cr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function _r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rr(t,e){return(Rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=kr(t);if(e){var o=kr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xr(this,r)}}function xr(t,e){return!e||"object"!==gr(e)&&"function"!=typeof e?Er(t):e}function Er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rr(t,e)}(c,t);var e,r,a,i=Sr(c);function c(){var t;return _r(this,c),Cr(Er(t=i.apply(this,arguments)),"getQueryWithoutChart",(function(t){t.chart,t.chartType;return wr({},jr(t,["chart","chartType"]))})),Cr(Er(t),"update",(function(){var e=t.props.query;t.setState({productIsRequesting:!0,customerIsRequesting:!0,lostSubscriberIsRequesting:!0}),hr(wr(wr({},e),{},{orderby:"subscribers",order:"desc",paged:1,per_page:5})).then((function(e){var r=e.data,n=e.totalResults,o=e.totalPages;t.setState({productReport:r,productIsRequesting:!1,productTotalResults:n,productTotalPages:o})})),ur(wr(wr({},e),{},{orderby:"total_paid",order:"desc",paged:1,per_page:5})).then((function(e){var r=e.data,n=e.totalResults,o=e.totalPages;t.setState({customerReport:r,customerIsRequesting:!1,customerTotalResults:n,customerTotalPages:o})})),tr(wr(wr({},e),{},{orderby:"cancelled_date",order:"desc",paged:1,per_page:5})).then((function(e){var r=e.data,n=e.totalResults,o=e.totalPages;t.setState({lostSubscriberReport:r,lostSubscriberIsRequesting:!1,lostSubscriberTotalResults:n,lostSubscriberTotalPages:o})}))})),Cr(Er(t),"getProductsHeadersContent",(function(){return[{label:Object(Ot.__)("Product name","yith-woocommerce-subscription"),key:"product_name",isSortable:!1},{label:Object(Ot.__)("Subscribers","yith-woocommerce-subscription"),key:"subscribers",isSortable:!1},{label:Object(Ot.__)("MRR","yith-woocommerce-subscription"),key:"mrr",isSortable:!1},{label:Object(Ot.__)("Total","yith-woocommerce-subscription"),key:"total",isSortable:!1}]})),Cr(Er(t),"getCustomersHeadersContent",(function(){return[{label:Object(Ot.__)("Customer","yith-woocommerce-subscription"),key:"customer",isSortable:!1},{label:Object(Ot.__)("Total paid","yith-woocommerce-subscription"),key:"total_paid",isSortable:!1}]})),Cr(Er(t),"getLostSubscribersHeadersContent",(function(){return[{label:Object(Ot.__)("Customer","yith-woocommerce-subscription"),key:"customer",isSortable:!1},{label:Object(Ot.__)("Product","yith-woocommerce-subscription"),key:"product_name",isSortable:!1},{label:Object(Ot.__)("Reason","yith-woocommerce-subscription"),key:"reason",isSortable:!1}]})),t.state={productIsRequesting:!1,productReport:[],productTotalResults:0,productTotalPages:0,customerIsRequesting:!1,customerReport:[],customerTotalResults:0,customerTotalPages:0,lostSubscriberIsRequesting:!1,lostSubscriberReport:[],lostSubscriberTotalResults:0,lostSubscriberTotalPages:0},t}return e=c,(r=[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(t,e){if(!Object(I.isEqual)(t.query,this.props.query)){var r=this.getQueryWithoutChart(t.query),n=this.getQueryWithoutChart(this.props.query);Object(I.isEqual)(r,n)?this.setState({}):this.update()}}},{key:"getProductsRows",value:function(){return this.state.productReport.map((function(t){return[{display:kt(t.product_name,t.product_id),value:t.product_name},{display:t.subscribers,value:t.subscribers},{display:ut(t.mrr),value:t.mrr},{display:ut(t.total),value:t.total}]}))}},{key:"getCustomersRows",value:function(){return this.state.customerReport.map((function(t){var e={first_name:t.first_name,last_name:t.last_name};return[{display:Ct(e),value:Ct(e)},{display:ut(t.total_paid),value:t.customer}]}))}},{key:"getLostSubscribersRows",value:function(){return this.state.lostSubscriberReport.map((function(t){return[{display:Ct(t.customer),value:Ct(t.customer)},{display:kt(t.product_name,t.product_id),value:t.product_name},{display:xt(t.status),value:t.status}]}))}},{key:"render",value:function(){var t=this.props.query,e=this.getProductsRows(),r=this.getCustomersRows(),a=this.getLostSubscribersRows(),i=this.state,c=i.productTotalResults,u=i.productIsRequesting,s=this.state,l=s.customerTotalResults,p=s.customerIsRequesting,f=this.state,y=f.lostSubscriberTotalResults,b=f.lostSubscriberIsRequesting;return c=c>5?5:c,l=l>5?5:l,y=y>5?5:y,o.a.createElement(n.Fragment,null,o.a.createElement(Y.SectionHeader,{className:"ywsbs-leaderboard-section-header",title:Object(Ot.__)("Products","yith-woocommerce-subscription")},o.a.createElement(Y.Link,{className:"button-primary",href:"admin.php?page=yith_woocommerce_subscription&tab=dashboard&path=/products-report",type:"wp-admin"},Object(Ot.__)("View all","yith-woocommerce-subscription"))),o.a.createElement("div",{className:"leaderboard-group"},o.a.createElement(Zt,{headers:this.getProductsHeadersContent(),rows:e,query:t,totalRows:c,rowsPerPage:5,title:Object(Ot.__)("Top Subscription Products","yith-woocommerce-subscription"),isRequesting:u})),o.a.createElement(Y.SectionHeader,{className:"ywsbs-leaderboard-section-header",title:Object(Ot.__)("Subscribers","yith-woocommerce-subscription")},o.a.createElement(Y.Link,{className:"button-primary",href:"admin.php?page=yith_woocommerce_subscription&tab=dashboard&path=/subscribers-report",type:"wp-admin"},Object(Ot.__)("View all","yith-woocommerce-subscription"))),o.a.createElement("div",{className:"leaderboard-group"},o.a.createElement(Zt,{headers:this.getCustomersHeadersContent(),rows:r,query:t,totalRows:l,rowsPerPage:5,title:Object(Ot.__)("Top Subscribers","yith-woocommerce-subscription"),isRequesting:p}),o.a.createElement(Zt,{headers:this.getLostSubscribersHeadersContent(),rows:a,query:t,totalRows:y,rowsPerPage:5,title:Object(Ot.__)("Latest lost subscribers","yith-woocommerce-subscription"),isRequesting:b})))}}])&&Pr(e.prototype,r),a&&Pr(e,a),c}(n.Component);function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ir(t,e){return(Ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Nr(t);if(e){var o=Nr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mr(this,r)}}function Mr(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ir(t,e)}(c,t);var e,r,a,i=Fr(c);function c(){return Dr(this,c),i.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement(Ye,this.props),o.a.createElement(Tr,this.props))}}])&&Ar(e.prototype,r),a&&Ar(e,a),c}(n.Component);function Lr(t){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$r(Object(r),!0).forEach((function(e){Kr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ur(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Vr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Br(t,e){return(Br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jr(t);if(e){var o=Jr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yr(this,r)}}function Yr(t,e){return!e||"object"!==Lr(e)&&"function"!=typeof e?Gr(t):e}function Gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jr(t){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Br(t,e)}(i,t);var e,r,n,a=zr(i);function i(){var t;return Vr(this,i),Kr(Gr(t=a.apply(this,arguments)),"getQueryWithoutChart",(function(t){t.chart,t.chartType;return Hr({},Ur(t,["chart","chartType"]))})),Kr(Gr(t),"update",(function(e){t.setState({productIsRequesting:!0}),hr(e).then((function(e){var r=e.data,n=e.totalResults,o=e.totalPages;t.setState({productReport:r,productIsRequesting:!1,totalResults:n,totalPages:o})}))})),Kr(Gr(t),"onSort",(function(e,r){r="desc"===t.props.query.order?"asc":"desc",onQueryChange("sort")(e,r)})),t.state={productIsRequesting:!1,productReport:[],totalResults:0,totalPages:0},t}return e=i,(r=[{key:"componentDidMount",value:function(){var t=this.props.query;this.update(t)}},{key:"componentDidUpdate",value:function(t,e){if(!Object(I.isEqual)(t.query,this.props.query)){var r=this.getQueryWithoutChart(t.query),n=this.getQueryWithoutChart(this.props.query);Object(I.isEqual)(r,n)||this.update(n)}}},{key:"getHeadersContent",value:function(){return[{label:Object(Ot.__)("Product name","yith-woocommerce-subscription"),key:"product_name",isSortable:!0},{label:Object(Ot.__)("Subscribers","yith-woocommerce-subscription"),key:"subscribers",isSortable:!0},{label:Object(Ot.__)("MRR","yith-woocommerce-subscription"),key:"mrr",isSortable:!0}]}},{key:"getProductsRows",value:function(){return this.state.productReport.map((function(t){return[{display:Et(t.product_name,t.product_id),value:t.product_name},{display:t.subscribers,value:t.subscribers},{display:ut(t.mrr),value:t.mrr}]}))}},{key:"render",value:function(){var t=this.props.query,e=this.getProductsRows(),r=this.state,n=r.totalResults,a=r.productIsRequesting,i=(null==t?void 0:t.per_page)?t.per_page:25;return o.a.createElement(Zt,{headers:this.getHeadersContent(),rows:e,query:t,totalRows:n,rowsPerPage:parseInt(i),title:Object(Ot.__)("Subscription Products","yith-woocommerce-subscription"),isRequesting:a})}}])&&Wr(e.prototype,r),n&&Wr(e,n),i}(M.Component),Zr=Object(_e.applyFilters)("yith_ywsbs_dashboard_products_charts",[{key:"total_revenue",label:Object(Ot.__)("Total Net Sale","yith-woocommerce-subscription"),type:"currency",order:"desc",orderby:"subscribers"},{key:"subscriptions_count",label:Object(Ot.__)("New Subscriptions","yith-woocommerce-subscription"),type:"number",order:"desc",orderby:"subscribers"},{key:"net_revenue",label:Object(Ot.__)("Net Sales of new subscriptions","yith-woocommerce-subscription"),order:"desc",orderby:"subscribers",type:"currency"},{key:"renews_count",label:Object(Ot.__)("Renewal orders","yith-woocommerce-subscription"),type:"number",order:"desc",orderby:"subscribers"},{key:"renews_net_revenue",label:Object(Ot.__)("Net Sales of renewed subscriptions","yith-woocommerce-subscription"),type:"currency",order:"desc",orderby:"subscribers"},{key:"cancelled_subscriptions",label:Object(Ot.__)("Cancelled subscriptions","yith-woocommerce-subscription"),order:"desc",orderby:"subscribers"},{key:"trial",label:Object(Ot.__)("New Trials","yith-woocommerce-subscription"),order:"desc",orderby:"subscribers"},{key:"conversions",label:Object(Ot.__)("Trial conversions","yith-woocommerce-subscription"),order:"desc",orderby:"subscribers"},{key:"mrr",label:Object(Ot.__)("MRR (Monthly Recurring Revenue)","yith-woocommerce-subscription"),order:"desc",orderby:"mrr",type:"currency"},{key:"arr",label:Object(Ot.__)("ARR (Annual Recurring Revenue)","yith-woocommerce-subscription"),order:"desc",orderby:"subscribers",type:"currency"}]),tn={label:Object(Ot.__)("Show","yith-woocommerce-subscription"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:function(){return!0},filters:[{label:Object(Ot.__)("All Products","yith-woocommerce-subscription"),value:"all"},{label:Object(Ot.__)("Single Product","yith-woocommerce-subscription"),value:"select_product",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_product",chartMode:"item-comparison",path:["select_product"],settings:{type:"products",param:"products",getLabels:It,labels:{placeholder:Object(Ot.__)("Type to search for a product","yith-woocommerce-subscription"),button:Object(Ot.__)("Single Product","yith-woocommerce-subscription")}}}]}]},en={showFilters:function(t){return"single_product"===t.filter&&!!t.products&&t["is-variable"]},staticParams:["filter","products","chartType","paged","per_page"],param:"filter-variations",filters:[{label:Object(Ot.__)("All Variations","yith-woocommerce-subscription"),chartMode:"item-comparison",value:"all"},{label:Object(Ot.__)("Single Variation","yith-woocommerce-subscription"),value:"select_variation",subFilters:[{component:"Search",value:"single_variation",path:["select_variation"],settings:{type:"variations",param:"variations",getLabels:qt,labels:{placeholder:Object(Ot.__)("Type to search for a variation","yith-woocommerce-subscription"),button:Object(Ot.__)("Single Variation","yith-woocommerce-subscription")}}}]}]},rn=Object(_e.applyFilters)("ywsbs_admin_products_report_filters",[tn,en]);function nn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(r),!0).forEach((function(e){an(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function an(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cn(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function un(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){cn(a,n,o,i,c,"next",t)}function c(t){cn(a,n,o,i,c,"throw",t)}i(void 0)}))}}var sn=function(){var t=un(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i,c,u,s,l,p,f,y,b,d,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]?h[0]:{},r={isEmpty:!1,isError:!1,data:{totals:{},intervals:[]}},n=pn(e),t.next=5,ln(n);case 5:if(!(o=t.sent).error){t.next=10;break}return t.abrupt("return",on(on({},r),{},{isError:!0}));case 10:if(!fn(o)){t.next=12;break}return t.abrupt("return",on(on({},r),{},{isEmpty:!0}));case 12:if(a=o&&o.data&&o.data.totals||null,i=o&&o.data&&o.data.intervals||[],!(o.totalResults>100)){t.next=36;break}for(c=[],u=Math.ceil(o.totalResults/100),s=!1,l=[],p=2;p<=u;p++)f=on(on({},n),{},{page:p}),l.push(ln(f));return t.next=22,Promise.all(l);case 22:y=t.sent,b=0;case 24:if(!(b<y.length)){t.next=33;break}if(!(d=y[b]).error){t.next=29;break}return s=!0,t.abrupt("break",33);case 29:c.push(d);case 30:b++,t.next=24;break;case 33:if(!s){t.next=35;break}return t.abrupt("return",on(on({},r),{},{isError:!0}));case 35:Object(I.forEach)(c,(function(t){i=i.concat(t.data.intervals)}));case 36:return t.abrupt("return",on(on({},r),{},{data:{totals:a,intervals:i}}));case 37:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ln=function(){var t=un(regeneratorRuntime.mark((function t(){var e,r,n,o,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.prev=1,t.next=4,_t()({path:Object(Pt.addQueryArgs)("yith-ywsbs/reports/products/stats",e),parse:!1});case 4:return r=t.sent,n=parseInt(r.headers.get("x-wp-total")),o=parseInt(r.headers.get("x-wp-totalpages")),t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",{data:a,totalResults:n,totalPages:o});case 13:return t.prev=13,t.t0=t.catch(1),console.log('"********* ERROR ON REQUEST ************"'),console.log(t.t0),t.abrupt("return",{error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();function pn(t){var e=t.dataType,r=t.query,n=Object(wt.getCurrentDates)(r),o=Object(wt.getIntervalForQuery)(r),a=n[e].before;return{order:"asc",interval:o,per_page:100,page:1,after:Object(wt.appendTimestamp)(n[e].after,"start"),before:Object(wt.appendTimestamp)(a,"end"),segmentby:r.segmentby,products:(null==r?void 0:r.products)?r.products:""}}function fn(t){return!t||!t.data}function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bn(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function dn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){bn(a,n,o,i,c,"next",t)}function c(t){bn(a,n,o,i,c,"throw",t)}i(void 0)}))}}function hn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hn(Object(r),!0).forEach((function(e){Sn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function On(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wn(t,e){return(wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Rn(t);if(e){var o=Rn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _n(this,r)}}function _n(t,e){return!e||"object"!==yn(e)&&"function"!=typeof e?Pn(t):e}function Pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wn(t,e)}(c,t);var e,r,a,i=jn(c);function c(){var t;return gn(this,c),Sn(Pn(t=i.apply(this,arguments)),"getQueryWithoutChart",(function(t){t.chart,t.chartType;return mn({},vn(t,["chart","chartType"]))})),Sn(Pn(t),"update",function(){var e=dn(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isRequesting:!0}),e.next=3,sn({query:r,dataType:"primary"});case 3:return e.t0=e.sent,e.next=6,sn({query:r,dataType:"secondary"});case 6:e.t1=e.sent,n={primary:e.t0,secondary:e.t1},t.setState({stats:n,isRequesting:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.state={stats:{},isRequesting:!0},t}return e=c,(r=[{key:"componentDidMount",value:function(){var t=this.props.query;this.update(t)}},{key:"componentDidUpdate",value:function(t,e){if(!Object(I.isEqual)(t.query,this.props.query)){var r=this.getQueryWithoutChart(t.query),n=this.getQueryWithoutChart(this.props.query);Object(I.isEqual)(r,n)?this.setState({}):this.update(this.props.query)}}},{key:"onFilterSelect",value:function(t){var e=this.props.query,r=(e.products,e.filter,vn(e,["products","filter"]));Object(A.updateQueryString)(mn(mn({},r),t))}},{key:"render",value:function(){var t=this,e=this.props,r=e.query,a=e.path,i=this.state,c=i.isRequesting,u=i.stats,s=Rt(r.chart,Zr);return o.a.createElement(n.Fragment,null,o.a.createElement(Y.Link,{href:"admin.php?page=yith_woocommerce_subscription&tab=dashboard&path=/",type:"wp-admin"},Object(Ot.__)("< back to main report","yith-woocommerce-subscription")),o.a.createElement("h2",null,Object(Ot.__)("Products Dashboard","yith-woocommerce-subscription")),o.a.createElement(rt,{path:a,query:r,report:"products",filters:rn,onFilterSelect:function(e){return t.onFilterSelect(e)},onDataSelect:function(e){return t.update(e)}}),o.a.createElement(vt,{path:a,query:r,charts:Zr,selectedChart:s,stats:u,isRequesting:c}),o.a.createElement(Ut,{path:a,query:r,selectedChart:s,stats:u,filters:rn,isRequesting:c}),o.a.createElement(Xr,{query:r,isRequesting:c}))}}])&&On(e.prototype,r),a&&On(e,a),c}(n.Component);function En(t){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tn(t,e){return(Tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=In(t);if(e){var o=In(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Dn(this,r)}}function Dn(t,e){return!e||"object"!==En(e)&&"function"!=typeof e?An(t):e}function An(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function In(t){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}(a,t);var e,r,n,o=qn(a);function a(){var t;return kn(this,a),Fn(An(t=o.apply(this,arguments)),"update",(function(){var e=t.props.query;t.setState({isRequesting:!0}),ur(e).then((function(e){var r=e.data,n=e.totalResults,o=e.totalPages;t.setState({subscribersReport:r,isRequesting:!1,totalResults:n,totalPages:o})}))})),Fn(An(t),"getHeadersContent",(function(){return[{label:Object(Ot.__)("Name","yith-woocommerce-subscription"),key:"customer",isSortable:!0},{label:Object(Ot.__)("Email","yith-woocommerce-subscription"),key:"email",isSortable:!0},{label:Object(Ot.__)("Total paid","yith-woocommerce-subscription"),key:"total_paid",isSortable:!0},{label:Object(Ot.__)("Active subscriptions","yith-woocommerce-subscription"),key:"total_paid",isSortable:!1},{label:Object(Ot.__)("Cancelled subscriptions","yith-woocommerce-subscription"),key:"total_paid",isSortable:!1}]})),t.state={isRequesting:!1,subscribersReport:[],totalResults:0,totalPages:0},t}return e=a,(r=[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(t,e){Object(I.isEqual)(t.query,this.props.query)||this.update()}},{key:"getRowsContent",value:function(){return this.state.subscribersReport.map((function(t){var e;return[{display:Ct({first_name:t.first_name,last_name:t.last_name}),value:Ct(t.customer)},{display:(e=t.email,"<a href='mailto:"+e+"'>"+e+"</a>"),value:t.email},{display:ut(t.total_paid),value:t.customer},{display:t.subscription_active,value:t.subscription_active},{display:t.subscription_cancelled,value:t.subscription_cancelled}]}))}},{key:"render",value:function(){var t=this.props.query,e=(null==t?void 0:t.per_page)?t.per_page:25,r=this.getRowsContent(),n=this.state,o=n.totalResults,a=n.isRequesting;return React.createElement(M.Fragment,null,React.createElement(Zt,{headers:this.getHeadersContent(),rows:r,query:t,totalRows:o,rowsPerPage:parseInt(e),title:Object(Ot.__)("Subscribers","yith-woocommerce-subscription"),isRequesting:a}))}}])&&Cn(e.prototype,r),n&&Cn(e,n),a}(M.Component);function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ln(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $n(t,e){return($n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Vn(t);if(e){var o=Vn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Un(this,r)}}function Un(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$n(t,e)}(c,t);var e,r,a,i=Hn(c);function c(){return Qn(this,c),i.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){var t=this.props.query;return o.a.createElement(n.Fragment,null,o.a.createElement(Y.Link,{href:"admin.php?page=yith_woocommerce_subscription&tab=dashboard&path=/",type:"wp-admin"},Object(Ot.__)("< back to main report","yith-woocommerce-subscription")),o.a.createElement("h2",null,Object(Ot.__)("Subscribers Dashboard","yith-woocommerce-subscription")),o.a.createElement(Mn,{query:t}))}}])&&Ln(e.prototype,r),a&&Ln(e,a),c}(n.Component);function Bn(t){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(){return(zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Zn(t);if(e){var o=Zn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Xn(this,r)}}function Xn(t,e){return!e||"object"!==Bn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var to=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jn(t,e)}(i,t);var e,r,n,a=Kn(i);function i(){return Yn(this,i),a.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"yith-ywsbs-dashboard"},o.a.createElement(_,{history:Object(A.getHistory)()},o.a.createElement(D,null,o.a.createElement(x,{key:"/",path:"/",exact:!0,render:function(t){return o.a.createElement(z,zn({container:Qr},t))}}),o.a.createElement(x,{key:"/products-report",path:"/products-report",exact:!0,render:function(t){return o.a.createElement(z,zn({container:xn},t))}}),o.a.createElement(x,{key:"/subscribers-report",path:"/subscribers-report",exact:!0,render:function(t){return o.a.createElement(z,zn({container:Wn},t))}}))))}}])&&Gn(e.prototype,r),n&&Gn(e,n),i}(n.Component);i.a.render(o.a.createElement(to,null),document.getElementById("yith-ywsbs-admin-root"))}]));
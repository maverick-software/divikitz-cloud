jQuery(function(d){d("#yith_woocommerce_subscription_general .form-table").find("[data-deps]").each(function(){var e=d(this),n=e.closest("tr"),t=e.attr("data-deps").split(","),i=e.attr("data-deps_value").split(","),a=[];d.each(t,function(s,e){d('[name="'+e+'"]').on("change",function(){var e=this.value,t="";"radio"==this.type&&!d(this).is(":checked")||("checkbox"==this.type&&(e=d(this).is(":checked")?"yes":"no"),t=(t=i[s]+"").split("|"),a[s]=-1!==d.inArray(e,t),-1===d.inArray(!1,a)?n.fadeIn():n.fadeOut())}).change()})});d(document).on("change","#ywsbs_change_status_after_renew_order_creation_status",function(){var e=d(this).val();d(document).find(".show-if-overdue").hide(),d(document).find(".show-if-suspended").hide(),d(document).find(".show-if-cancelled").hide(),d(document).find(".show-if-"+e).show()}),d(document).on("change","#ywsbs_change_status_after_renew_order_creation_step_2_status",function(){var e=d(this).val(),t=d(document).find(".show-if-no-cancelled-step-2");"cancelled"===e?t.hide():t.show()}),d(document).on("change","#ywsbs_delivery_default_schedule_delivery_period",function(){var e=d(this).val();d(document).find(".show-if-weeks").hide(),d(document).find(".show-if-months").hide(),d(document).find(".show-if-years").hide(),d(document).find(".show-if-days").hide(),"days"===e?d(document).find(".hide-if-days").hide():d(document).find(".hide-if-days").show(),d(document).find(".show-if-"+e).show()}),d("#ywsbs_change_status_after_renew_order_creation_status").change(),d("#ywsbs_change_status_after_renew_order_creation_step_2_status").change(),d("#ywsbs_delivery_default_schedule_delivery_period").change(),d(document).find(".without-padding").closest("tr").find("td").css({padding:"0 20px 30px 20px"}),0<(e=d(document).find(".wrap.ywsbs_subscription_activities")).length&&e.closest(".wrap.yith-plugin-ui").addClass("yith-plugin-fw-wp-page-wrapper").addClass("yith-current-subtab-opened").removeClass("wrap"),d("#ywsbs_change_status_after_renew_order_creation_status").on("change",function(){"overdue"==d(this).val()?(d(".hide-overdue").hide(),d(".renew_order_step1").closest("tr").addClass("no-padding-bottom")):(d(".hide-overdue").show(),d(".renew_order_step1").closest("tr").removeClass("no-padding-bottom"))}).change(),d("#ywsbs_subscription_action_style").on("change",function(){var e=d(this),t=d("#ywsbs_allow_customer_cancel_subscription").is(":checked");"dropdown"===e.val()&&t?d('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').show():d('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').hide()}),d("#ywsbs_allow_customer_cancel_subscription").on("change",function(){var e=d(this),t="dropdown"===d("#ywsbs_subscription_action_style").val();e.is(":checked")&&t?d('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').show():d('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').hide()});var e,c=function(e,t,s,n){d.ajax({url:ywsbs_admin.ajaxurl,data:e,type:"POST",beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},success:function(e){"undefined"==typeof e.error&&(1===e.result&&(t.find(".status-normal").text(n),s.find(".sent_on").text(e.sentOn)),t.unblock())}})};d(document).on("change",".status-hover",function(){var e=d(this),t=e.val(),s=e.closest(".status-td"),n=e.closest("tr"),i=(s.find("status-normal").text(),e.find(":selected").attr("data-label")),e=s.data("id"),a=d("#yith-shipped-confirm"),o={action:"ywsbs_update_delivery_status",security:ywsbs_admin.delivery_nonce,deliveryID:e,status:t,subscriptionID:d("#post_ID").val(),deliveryListTable:!0},e={};e[ywsbs_admin["continue"]]=function(){c(o,s,n,i),a.dialog("close")},e[ywsbs_admin.cancel]=function(){a.dialog("close")},"shipped"===t?a.dialog({width:450,modal:!0,dialogClass:"ywsbs-shipped-confirm",buttons:e}):c(o,s,n,i)}),d("#post-query-submit").on("click",function(e){e.preventDefault(),window.onbeforeunload=null,d("form").submit()})});